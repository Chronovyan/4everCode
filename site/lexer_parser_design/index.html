
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for lexer_parser_design.md">
      
      
        <meta name="author" content="Chronovyan Team">
      
      
        <link rel="canonical" href="https://chronovyan.github.io/lexer_parser_design/">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Chronovyan and) runtime") Lexer and Parser Design - Chronovyan</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/timeago.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XXXXXXXXXX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chronovyan-lexer-and-parser-design" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Chronovyan" class="md-header__button md-logo" aria-label="Chronovyan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chronovyan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chronovyan and) runtime") Lexer and Parser Design
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chronovyan/Chronovyan.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Chronovyan/Chronovyan.github.io
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../getting-started/installation/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../guides/Getting%20Started%20-%20The%20Journey%20of%20a%20Temporal%20Developer/" class="md-tabs__link">
          
  
  
    
  
  Language Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../TUTORIAL_ROADMAP/" class="md-tabs__link">
          
  
  
    
  
  Tutorials

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../api_reference/" class="md-tabs__link">
        
  
  
    
  
  API Reference

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Chronoscript%20Standard%20Library%20Reference/" class="md-tabs__link">
        
  
  
    
  
  Standard Library

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../chronicle_compiler_design/" class="md-tabs__link">
        
  
  
    
  
  Compiler

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Chronoscript%20Runtime%20Mechanics%20Guide/" class="md-tabs__link">
        
  
  
    
  
  Runtime

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../Chronovyan_Glossary/" class="md-tabs__link">
        
  
  
    
  
  Glossary

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../ROADMAP/" class="md-tabs__link">
        
  
  
    
  
  Roadmap

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../CONTRIBUTING.md" class="md-tabs__link">
        
  
  
    
  
  Contributing

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Chronovyan" class="md-nav__button md-logo" aria-label="Chronovyan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Chronovyan
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chronovyan/Chronovyan.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Chronovyan/Chronovyan.github.io
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Quick Start
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Language Guide
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Language Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../guides/Getting%20Started%20-%20The%20Journey%20of%20a%20Temporal%20Developer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basics
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../core/Core%20Concepts%20-%20The%20Foundation%20of%20Temporal%20Programming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Core Concepts
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/Advanced Features - The Art of Temporal Mastery.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced Features
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../tutorials/act1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../TUTORIAL_ROADMAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tutorial Roadmap
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

              
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorials/act2/README.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Act 2
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api_reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    API Reference
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chronoscript%20Standard%20Library%20Reference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Standard Library
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chronicle_compiler_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Compiler
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chronoscript%20Runtime%20Mechanics%20Guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Runtime
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Chronovyan_Glossary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Glossary
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ROADMAP/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Roadmap
    
  </span>
  
    
  
  
    <span class="md-status md-status--draft"></span>
  

  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../CONTRIBUTING.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      1. Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-lexical-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      2. Lexical Analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Lexical Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-token-types" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Token Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1 Token Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#214-literals" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.4 Literals
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#215-identifiers" class="md-nav__link">
    <span class="md-ellipsis">
      2.1.5 Identifiers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-lexer-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 Lexer Implementation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 Lexer Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 Error Handling
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-lexer-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Lexer Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-syntax-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      3. Syntax Analysis
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Syntax Analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-grammar-overview" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 Grammar Overview
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-ast-structure" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 AST Structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2 AST Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-parser-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 Parser Implementation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-error-handling-and-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 Error Handling and Recovery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-parser-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 Parser Optimization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-unique-chronovyan-language-features" class="md-nav__link">
    <span class="md-ellipsis">
      4. Unique Chronovyan Language Features
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Unique Chronovyan Language Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-resource-management-syntax" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 Resource Management Syntax
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-temporal-control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 Temporal Control Flow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-confreb-variable-classification" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 CONF/REB Variable Classification
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-implementation-plan" class="md-nav__link">
    <span class="md-ellipsis">
      5. Implementation Plan
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Implementation Plan">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-phase-1-basic-lexer-1-week" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 Phase 1: Basic Lexer (1 week)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-phase-2-complete-lexer-1-week" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 Phase 2: Complete Lexer (1 week)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-phase-3-basic-parser-2-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 Phase 3: Basic Parser (2 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-phase-4-complete-parser-2-weeks" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 Phase 4: Complete Parser (2 weeks)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55-phase-5-integration-and-testing-1-week" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 Phase 5: Integration and Testing (1 week)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-testing-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      6. Testing Strategy
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Testing Strategy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-unit-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 Unit Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-integration-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 Integration Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-performance-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 Performance Tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#64-error-handling-tests" class="md-nav__link">
    <span class="md-ellipsis">
      6.4 Error Handling Tests
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-api-design" class="md-nav__link">
    <span class="md-ellipsis">
      7. API Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. API Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-challenges-and-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      8. Challenges and Considerations
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Challenges and Considerations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-ambiguity-resolution" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 Ambiguity Resolution
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-error-recovery-strategy" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 Error Recovery Strategy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-performance-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 Performance Considerations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84-extensibility" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 Extensibility
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      9. Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="chronovyan-lexer-and-parser-design">Chronovyan Lexer and Parser Design</h1>
<h2 id="1-introduction">1. Introduction</h2>
<p>This document outlines the design for the lexical analyzer (lexer) and syntax analyzer (parser) components of the Chronicle Compiler. These components form the front-end of the compiler, responsible for converting Chronovyan source code into an Abstract Syntax Tree (AST) representation that can be further processed by subsequent compiler phases.</p>
<p>The design prioritizes:
- Clear separation of concerns between lexical and syntactic analysis
- Robust error reporting with meaningful diagnostics
- Extensibility to accommodate future language features
- Performance for handling large source files
- Maintainability through modular design</p>
<h2 id="2-lexical-analysis">2. Lexical Analysis</h2>
<p>The lexical analyzer (lexer) is responsible for converting a stream of characters into a stream of tokens. Each token represents a lexical unit in the Chronovyan language, such as keywords, identifiers, literals, and operators.</p>
<h3 id="21-token-types">2.1 Token Types</h3>
<p>The following token types will be recognized by the Chronovyan lexer:</p>
<h4 id="_1"></h4>
<p>``text
    ALLOCATE_RESOURCES  EXPEND_RESOURCES  BORROW_RESOURCES  REPAY_DEBT
    LET                 CONST             CONF              REB
    IF                  ELSE              WHILE             FOR
    FUNCTION            RETURN            IMPORT            EXPORT
    BRANCH_TIMELINE     MERGE_TIMELINES   REWIND_FLOW       REVERSE_FLOW
    \1ANCHOR\2/core/Core Concepts - The Foundation of Temporal Programming.md#anchor\3              \1WEAVE\2/core/Core Concepts - The Foundation of Temporal Programming.md#weave\3R            STATIC            VOLATILE
    \1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)[)c)h)r)o)n)o)n)])()/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)[)c)h)r)o)n)o)n)])()/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)c)h)r)o)n)o)n))))) "The fundamental unit) of) time) in) Chronovyan"")             \1AETHEL\2/core/Core Concepts - The Foundation of Temporal Programming.md#aethel\3/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)[)a)e)t)h)e)l)])()/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)[)a)e)t)h)e)l)])()/)c)o)r)e)/)c)o)n)c)e)p)t)s)#)a)e)t)h)e)l))))) "The energy) that) powers) temporal) operations"")            INTEGER           FLOAT
    STRING              BOOLEAN           VECTOR            MAP
```text</p>
<h4 id="_2"></h4>
<p>``text
    +       -       <em>/       %       =       ==      !=
    &lt;       &gt;       &lt;=      &gt;=      &amp;&amp;      |      !       ++
    --      +=      -=</em>=      /=      %=      ::      -&gt;
```text</p>
<h4 id="_3"></h4>
<p>``text
    {       }       (       )       [       ]       ;       :
    ,       .
```text</p>
<h4 id="214-literals">2.1.4 Literals</h4>
<p>Integer literals: <code>123</code>,<code>0</code>,<code>-456</code>
- Float literals: <code>123.456</code>,<code>.123</code>,<code>123.</code>
- String literals: <code>"Hello, world!"</code>,<code>"Embedded \"quotes\""</code>,<code>"Multiline\nstrings"</code>
- Boolean literals: <code>TRUE</code>,<code>FALSE</code>
- Resource literals: <code>10C</code> (Chronons),<code>5A</code> (Aethel)</p>
<h4 id="215-identifiers">2.1.5 Identifiers</h4>
<p>Identifiers start with a letter or underscore and can contain letters, digits, and underscores:
- <code>variable_name</code>
- <code>FunctionName</code>
- <code>_privateVar</code>
- <code>PATH_A</code></p>
<h3 id="22-lexer-implementation">2.2 Lexer Implementation</h3>
<p>The lexer will be implemented using a deterministic finite automaton (DFA) approach, with the following components:</p>
<h4 id="_4"></h4>
<p>``cpp
    struct Token {
        TokenType type;
        std::string lexeme;
        SourceLocation location;
        std::optional<std::variant\<int, double, std::string, bool>> value;
    };
```text</p>
<h4 id="_5"></h4>
<p>``cpp
    class Lexer {
    public:
        Lexer(const std::string&amp; source, const std::string&amp; filename);</p>
<div class="highlight"><pre><span></span><code>    Token nextToken();
    Token peekToken();
    void consumeToken();

    const std::vector&lt;DiagnosticMessage&gt;&amp; getDiagnostics() const;

private:
    std::string source;
    std::string filename;
    size_t position;
    size_t line;
    size_t column;
    std::vector&lt;DiagnosticMessage&gt; diagnostics;

    char advance();
    char peek();
    char peekNext();
    bool match(char expected);

    Token scanToken();
    Token identifier();
    Token number();
    Token string();

    bool isAtEnd() const;
    bool isDigit(char c) const;
    bool isAlpha(char c) const;
    bool isAlphaNumeric(char c) const;

    void skipWhitespace();
    void skipComment();

    void addError(const std::string&amp; message);
};
</code></pre></div>
<p>```text</p>
<h4 id="223-error-handling">2.2.3 Error Handling</h4>
<p>The lexer will report the following types of errors:</p>
<p>Unterminated string literals
- Invalid numeric literals
- Invalid characters
- Invalid escape sequences in strings</p>
<p>Each error will include:
- Error message
- Source location (file, line, column)
- Contextual information (e.g., the problematic character or token)</p>
<h3 id="23-lexer-optimization">2.3 Lexer Optimization</h3>
<p><em>Character Classification Tables</em><em>: Precomputed tables for fast character classification
- </em><em>Token Interning</em><em>: Reuse memory for common tokens to reduce memory usage
- </em><em>Buffered Input</em><em>: Process source code in chunks for better cache locality
- </em><em>Error Recovery</em>*: Skip to next line or token boundary after encountering errors</p>
<h2 id="3-syntax-analysis">3. Syntax Analysis</h2>
<p>The syntax analyzer (parser) processes the stream of tokens produced by the lexer to build an Abstract Syntax Tree (AST) that represents the syntactic structure of the program.</p>
<h3 id="31-grammar-overview">3.1 Grammar Overview</h3>
<p>The Chronovyan grammar will be defined using a context-free grammar notation. Below is a simplified subset of the grammar:
<code>text
    Program         → Declaration*
    Declaration     → FunctionDecl | VariableDecl | ResourceDecl | TemporalDecl
    FunctionDecl    → "FUNCTION" IDENTIFIER "(" Parameters? ")" Block
    Parameters      → Parameter ("," Parameter)*
    Parameter       → TypeAnnotation IDENTIFIER
    VariableDecl    → ("LET" | "CONST") IDENTIFIER (":" TypeAnnotation)? "=" Expression ";"
    ResourceDecl    → ResourceAlloc | ResourceExpend | ResourceBorrow
    ResourceAlloc   → "ALLOCATE_RESOURCES" "{" ResourceList "}" Block
    ResourceExpend  → "EXPEND_RESOURCES" "{" ResourceList "}" Block
    ResourceBorrow  → "BORROW_RESOURCES" "{" ResourceList "}" Block
    ResourceList    → ResourceItem ("," ResourceItem)*
    ResourceItem    → ("\1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3" | "\1AETHEL\2/core/Core Concepts - The Foundation of Temporal Programming.md#aethel\3") ":" Expression
    TemporalDecl    → BranchTimeline | MergeTimelines | RewindFlow
    BranchTimeline  → "BRANCH_TIMELINE" "{" PathList "}"
    PathList        → PathDecl+
    PathDecl        → IDENTIFIER ":" Block
    MergeTimelines  → "MERGE_TIMELINES" "(" Expression ")"
    RewindFlow      → "REWIND_FLOW" "(" Expression ")" Block
    Block           → "{" Declaration* "}"
    Statement       → ExprStmt | IfStmt | WhileStmt | ForStmt | ReturnStmt | Block
    ExprStmt        → Expression ";"
    IfStmt          → "IF" "(" Expression ")" Statement ("ELSE" Statement)?
    WhileStmt       → "WHILE" "(" Expression ")" Statement
    ForStmt         → "FOR" "(" (VariableDecl | ExprStmt) Expression? ";" Expression? ")" Statement
    ReturnStmt      → "RETURN" Expression? ";"
    Expression      → Assignment
    Assignment      → (Call ".")? IDENTIFIER ("=" | "+=" | "-=" | "*=" | "/=" | "%=") Assignment | LogicOr
    LogicOr         → LogicAnd ("|" LogicAnd)*
    LogicAnd        → Equality ("&amp;&amp;" Equality)*
    Equality        → Comparison (("==" | "!=") Comparison)*
    Comparison      → Term (("&lt;" | "&gt;" | "&lt;=" | "&gt;=") Term)*
    Term            → Factor (("+" | "-") Factor)*
    Factor          → Unary (("*" | "/" | "%") Unary)*
    Unary           → ("!" | "-" | "++" | "--") Unary | Call
    Call            → Primary ("(" Arguments? ")" | "[" Expression "]" | "." IDENTIFIER)*
    Arguments       → Expression ("," Expression)*
    Primary         → IDENTIFIER | Literal | "(" Expression ")" | "REVERSE_FLOW"
    Literal         → NUMBER | STRING | "TRUE" | "FALSE" | ResourceLiteral
    ResourceLiteral → NUMBER ("C" | "A")
    TypeAnnotation  → "INTEGER" | "FLOAT" | "STRING" | "BOOLEAN" | "\1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3" | "\1AETHEL\2/core/Core Concepts - The Foundation of Temporal Programming.md#aethel\3" |
                       "VECTOR" "&lt;" TypeAnnotation "&gt;" | "MAP" "&lt;" TypeAnnotation "," TypeAnnotation "&gt;"</code>text</p>
<h3 id="32-ast-structure">3.2 AST Structure</h3>
<p>The AST will be implemented as a hierarchy of node classes:</p>
<h4 id="_6"></h4>
<p>``cpp
    class ASTNode {
    public:
        virtual ~ASTNode() = default;
        virtual void accept(ASTVisitor&amp; visitor) = 0;</p>
<div class="highlight"><pre><span></span><code>    const SourceLocation&amp; getLocation() const;

protected:
    SourceLocation location;
};
</code></pre></div>
<p>```text</p>
<h4 id="_7"></h4>
<p>``cpp
    class Expression : public ASTNode {};</p>
<div class="highlight"><pre><span></span><code>class BinaryExpr : public Expression {
public:
    BinaryExpr(std::unique_ptr&lt;Expression&gt; left, Token op, std::unique_ptr&lt;Expression&gt; right);
    void accept(ASTVisitor&amp; visitor) override;

    Expression* getLeft() const;
    Expression* getRight() const;
    const Token&amp; getOperator() const;

private:
    std::unique_ptr&lt;Expression&gt; left;
    Token op;
    std::unique_ptr&lt;Expression&gt; right;
};

// Similar classes for: UnaryExpr, LiteralExpr, VariableExpr, CallExpr, etc.
</code></pre></div>
<p>```text</p>
<h4 id="_8"></h4>
<p>``cpp
    class Statement : public ASTNode {};</p>
<div class="highlight"><pre><span></span><code>class ExpressionStmt : public Statement {
public:
    ExpressionStmt(std::unique_ptr&lt;Expression&gt; expression);
    void accept(ASTVisitor&amp; visitor) override;

    Expression* getExpression() const;

private:
    std::unique_ptr&lt;Expression&gt; expression;
};

// Similar classes for: BlockStmt, IfStmt, WhileStmt, ReturnStmt, etc.
</code></pre></div>
<p>```text</p>
<h4 id="_9"></h4>
<p>``cpp
    class Declaration : public ASTNode {};</p>
<div class="highlight"><pre><span></span><code>class VariableDecl : public Declaration {
public:
    VariableDecl(Token name, Token type, std::unique_ptr&lt;Expression&gt; initializer, bool isConst);
    void accept(ASTVisitor&amp; visitor) override;

    const Token&amp; getName() const;
    const Token&amp; getType() const;
    Expression* getInitializer() const;
    bool isConst() const;

private:
    Token name;
    Token type;
    std::unique_ptr&lt;Expression&gt; initializer;
    bool isConst;
};

// Similar classes for: FunctionDecl, ResourceDecl, TemporalDecl, etc.
</code></pre></div>
<p>```text</p>
<h4 id="_10"></h4>
<p>``cpp
    class ResourceExpr : public Expression {
    public:
        ResourceExpr(ResourceType type, std::unique_ptr<Expression> amount);
        void accept(ASTVisitor&amp; visitor) override;</p>
<div class="highlight"><pre><span></span><code>    ResourceType getType() const;
    Expression* getAmount() const;

private:
    ResourceType type;
    std::unique_ptr&lt;Expression&gt; amount;
};

class BranchTimelineStmt : public Statement {
public:
    BranchTimelineStmt(std::vector&lt;std::pair&lt;Token, std::unique_ptr&lt;BlockStmt&gt;&gt;&gt; paths);
    void accept(ASTVisitor&amp; visitor) override;

    const std::vector&lt;std::pair&lt;Token, BlockStmt*&gt;&gt;&amp; getPaths() const;

private:
    std::vector&lt;std::pair&lt;Token, std::unique_ptr&lt;BlockStmt&gt;&gt;&gt; paths;
};

// Similar classes for: ResourceAllocStmt, ResourceExpendStmt, MergeTimelinesStmt, RewindFlowStmt, etc.
</code></pre></div>
<p>```text</p>
<h3 id="33-parser-implementation">3.3 Parser Implementation</h3>
<p>The parser will be implemented using a recursive descent approach:
```cpp
    class Parser {
    public:
        Parser(Lexer&amp; lexer);</p>
<div class="highlight"><pre><span></span><code>    std::unique_ptr&lt;Program&gt; parse();

    const std::vector&lt;DiagnosticMessage&gt;&amp; getDiagnostics() const;

private:
    Lexer&amp; lexer;
    Token current;
    std::vector&lt;DiagnosticMessage&gt; diagnostics;

    // Parsing methods for grammar rules
    std::unique_ptr&lt;Declaration&gt; declaration();
    std::unique_ptr&lt;FunctionDecl&gt; functionDeclaration();
    std::unique_ptr&lt;VariableDecl&gt; variableDeclaration();
    std::unique_ptr&lt;Statement&gt; statement();
    std::unique_ptr&lt;ExpressionStmt&gt; expressionStatement();
    std::unique_ptr&lt;IfStmt&gt; ifStatement();
    std::unique_ptr&lt;WhileStmt&gt; whileStatement();
    std::unique_ptr&lt;ForStmt&gt; forStatement();
    std::unique_ptr&lt;ReturnStmt&gt; returnStatement();
    std::unique_ptr&lt;BlockStmt&gt; block();

    std::unique_ptr&lt;Expression&gt; expression();
    std::unique_ptr&lt;Expression&gt; assignment();
    std::unique_ptr&lt;Expression&gt; logicOr();
    std::unique_ptr&lt;Expression&gt; logicAnd();
    std::unique_ptr&lt;Expression&gt; equality();
    std::unique_ptr&lt;Expression&gt; comparison();
    std::unique_ptr&lt;Expression&gt; term();
    std::unique_ptr&lt;Expression&gt; factor();
    std::unique_ptr&lt;Expression&gt; unary();
    std::unique_ptr&lt;Expression&gt; call();
    std::unique_ptr&lt;Expression&gt; primary();

    // Resource and temporal parsing methods
    std::unique_ptr&lt;ResourceDecl&gt; resourceDeclaration();
    std::unique_ptr&lt;TemporalDecl&gt; temporalDeclaration();
    std::unique_ptr&lt;BranchTimelineStmt&gt; branchTimeline();
    std::unique_ptr&lt;MergeTimelinesStmt&gt; mergeTimelines();
    std::unique_ptr&lt;RewindFlowStmt&gt; rewindFlow();

    // Helper methods
    bool match(std::initializer_list&lt;TokenType&gt; types);
    bool check(TokenType type);
    Token advance();
    Token consume(TokenType type, const std::string&amp; message);
    void synchronize();

    void addError(const std::string&amp; message);
    void addError(const Token&amp; token, const std::string&amp; message);
};
</code></pre></div>
<p>```text</p>
<h3 id="34-error-handling-and-recovery">3.4 Error Handling and Recovery</h3>
<p>The parser will implement error recovery techniques to continue parsing after encountering syntax errors:</p>
<ol>
<li><strong>Synchronization Points</strong>: Recover at statement or declaration boundaries</li>
<li><strong>Skip to Next Statement</strong>: Skip tokens until a statement delimiter (e.g., semicolon) is found</li>
<li><strong>Error Productions</strong>: Define special grammar rules for common error patterns</li>
<li><strong>Panic Mode Recovery</strong>: Skip tokens until a synchronization point is reached</li>
</ol>
<h3 id="35-parser-optimization">3.5 Parser Optimization</h3>
<p><em>Lookahead Caching</em><em>: Cache lookahead tokens to avoid repeated lexer calls
- </em><em>Error Recovery</em><em>: Implement efficient error recovery to continue parsing after errors
- </em><em>AST Node Pooling</em><em>: Use memory pools for AST nodes to reduce allocation overhead
- </em><em>Context-Aware Parsing</em>*: Use contextual information to disambiguate complex constructs</p>
<h2 id="4-unique-chronovyan-language-features">4. Unique Chronovyan Language Features</h2>
<h3 id="41-resource-management-syntax">4.1 Resource Management Syntax</h3>
<p>The lexer and parser will handle Chronovyan's resource management syntax:
```text
    ALLOCATE_RESOURCES {
        \1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3: 10,
        \1AETHEL\2/core/Core Concepts - The Foundation of Temporal Programming.md#aethel\3: 5
    } {
        // Code that uses the resources
    }</p>
<div class="highlight"><pre><span></span><code>EXPEND_RESOURCES {
    \1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3: 2,
    \1AETHEL\2/core/Core Concepts - The Foundation of Temporal Programming.md#aethel\3: 1
} {
    // Code that consumes resources
}

BORROW_RESOURCES {
    \1CHRONON\2/core/Core Concepts - The Foundation of Temporal Programming.md#chronon\3: 5
} {
    // Code that borrows resources
}
</code></pre></div>
<p>```chronoscript</p>
<h3 id="42-temporal-control-flow">4.2 Temporal Control Flow</h3>
<p>The parser will handle Chronovyan's temporal control flow constructs:
```text
    BRANCH_TIMELINE {
        PATH_A: {
            // Timeline branch A
        }
        PATH_B: {
            // Timeline branch B
        }
    }</p>
<div class="highlight"><pre><span></span><code>MERGE_TIMELINES(resolution_strategy)

REWIND_FLOW (condition) {
    // Code that might rewind
}

REVERSE_FLOW;
</code></pre></div>
<p>```text</p>
<h3 id="43-confreb-variable-classification">4.3 CONF/REB Variable Classification</h3>
<p>The lexer and parser will recognize the CONF/REB variable classification modifiers:
<code>text
    LET x::CONF = 42;
    LET y::REB = "Hello";</code>text</p>
<h2 id="5-implementation-plan">5. Implementation Plan</h2>
<h3 id="51-phase-1-basic-lexer-1-week">5.1 Phase 1: Basic Lexer (1 week)</h3>
<p>Implement Token class
- Implement basic Lexer class
- Support keywords, identifiers, literals, operators
- Implement basic error reporting</p>
<h3 id="52-phase-2-complete-lexer-1-week">5.2 Phase 2: Complete Lexer (1 week)</h3>
<p>Add support for all token types
- Implement lexer optimizations
- Enhance error reporting
- Add source location tracking
- Implement lexer tests</p>
<h3 id="53-phase-3-basic-parser-2-weeks">5.3 Phase 3: Basic Parser (2 weeks)</h3>
<p>Implement ASTNode base classes
- Implement expression parsing
- Implement statement parsing
- Implement basic error recovery
- Create initial AST visitor interface</p>
<h3 id="54-phase-4-complete-parser-2-weeks">5.4 Phase 4: Complete Parser (2 weeks)</h3>
<p>Add support for declarations
- Implement resource management parsing
- Implement temporal control flow parsing
- Enhance error recovery
- Complete AST visitor implementation
- Implement parser tests</p>
<h3 id="55-phase-5-integration-and-testing-1-week">5.5 Phase 5: Integration and Testing (1 week)</h3>
<p>Integrate lexer and parser
- Implement comprehensive test suite
- Benchmark performance
- Document public API
- Create usage examples</p>
<h2 id="6-testing-strategy">6. Testing Strategy</h2>
<h3 id="61-unit-tests">6.1 Unit Tests</h3>
<p>Test each token type recognition
- Test lexer error reporting
- Test parser grammar rules
- Test AST node construction
- Test error recovery mechanisms</p>
<h3 id="62-integration-tests">6.2 Integration Tests</h3>
<p>Test lexer and parser interaction
- Test complete program parsing
- Test AST visitor traversal
- Test error reporting end-to-end</p>
<h3 id="63-performance-tests">6.3 Performance Tests</h3>
<p>Benchmark lexing and parsing speed
- Measure memory usage
- Test with large input files
- Compare against performance targets</p>
<h3 id="64-error-handling-tests">6.4 Error Handling Tests</h3>
<p>Test recovery from common syntax errors
- Test error message quality
- Test position information accuracy
- Test error cascading prevention</p>
<h2 id="7-api-design">7. API Design</h2>
<h3 id="_11"></h3>
<p>``cpp
    // Create a compiler instance
    Compiler compiler;</p>
<div class="highlight"><pre><span></span><code>// Parse a file
std::unique_ptr&lt;Program&gt; ast = compiler.parseFile(&quot;example.chron&quot;);

// Check for errors
if (compiler.hasErrors()) {
    for (const auto&amp; error : compiler.getErrors()) {
        std::cerr &lt;&lt; error &lt;&lt; std::endl;
    }
    return 1;
}

// Use the AST
ASTDumper dumper;
ast-&gt;accept(dumper);
</code></pre></div>
<p>```text</p>
<h3 id="_12"></h3>
<p>``cpp
    class ASTVisitor {
    public:
        virtual ~ASTVisitor() = default;</p>
<div class="highlight"><pre><span></span><code>    // Expressions
    virtual void visitBinaryExpr(BinaryExpr* expr) = 0;
    virtual void visitUnaryExpr(UnaryExpr* expr) = 0;
    virtual void visitLiteralExpr(LiteralExpr* expr) = 0;
    virtual void visitVariableExpr(VariableExpr* expr) = 0;
    virtual void visitCallExpr(CallExpr* expr) = 0;
    virtual void visitResourceExpr(ResourceExpr* expr) = 0;

    // Statements
    virtual void visitExpressionStmt(ExpressionStmt* stmt) = 0;
    virtual void visitBlockStmt(BlockStmt* stmt) = 0;
    virtual void visitIfStmt(IfStmt* stmt) = 0;
    virtual void visitWhileStmt(WhileStmt* stmt) = 0;
    virtual void visitForStmt(ForStmt* stmt) = 0;
    virtual void visitReturnStmt(ReturnStmt* stmt) = 0;

    // Declarations
    virtual void visitVariableDecl(VariableDecl* decl) = 0;
    virtual void visitFunctionDecl(FunctionDecl* decl) = 0;

    // Resource and Temporal
    virtual void visitResourceAllocStmt(ResourceAllocStmt* stmt) = 0;
    virtual void visitResourceExpendStmt(ResourceExpendStmt* stmt) = 0;
    virtual void visitBranchTimelineStmt(BranchTimelineStmt* stmt) = 0;
    virtual void visitMergeTimelinesStmt(MergeTimelinesStmt* stmt) = 0;
    virtual void visitRewindFlowStmt(RewindFlowStmt* stmt) = 0;

    // Program
    virtual void visitProgram(Program* program) = 0;
};
</code></pre></div>
<p>```text</p>
<h2 id="8-challenges-and-considerations">8. Challenges and Considerations</h2>
<h3 id="81-ambiguity-resolution">8.1 Ambiguity Resolution</h3>
<p>The Chronovyan grammar contains potential ambiguities that require careful handling:</p>
<p>CONF/REB annotations vs. scope resolution operator
- Resource literals vs. identifiers with suffixes
- Timeline path labels vs. case labels</p>
<h3 id="82-error-recovery-strategy">8.2 Error Recovery Strategy</h3>
<p>Effective error recovery is essential for a good developer experience:</p>
<p>Use synchronization points at statement boundaries
- Skip to next declaration on severe errors
- Provide contextual error messages
- Avoid error cascades</p>
<h3 id="83-performance-considerations">8.3 Performance Considerations</h3>
<p>The lexer and parser must be efficient for large source files:</p>
<p>Minimize memory allocations
- Use efficient data structures
- Implement early bailout for invalid inputs
- Optimize the lexer state machine</p>
<h3 id="84-extensibility">8.4 Extensibility</h3>
<p>The design must accommodate future language features:</p>
<p>Modular grammar definitions
- Extensible token and AST hierarchies
- Visitor pattern for AST traversal
- Clear separation between lexical and syntactic concerns</p>
<h2 id="9-conclusion">9. Conclusion</h2>
<p>This design document outlines the approach for implementing the lexical and syntax analysis components of the Chronicle Compiler. By following this design, we can create a robust, efficient, and maintainable front-end that accurately processes Chronovyan source code while providing helpful error messages and diagnostics.</p>
<p>The implementation will follow the phased approach described in Section 5, with each phase building on the previous one. Comprehensive testing will ensure that the lexer and parser correctly handle all valid Chronovyan constructs and provide useful feedback for invalid code.</p>
<p>As the first components in the compiler pipeline, the lexer and parser set the foundation for the entire Chronicle Compiler project. A well-designed front-end will simplify the implementation of later compiler phases, such as semantic analysis, optimization, and code generation.</p>







  
    
  
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago" title="June 7, 2025 20:02:02 UTC"><span class="timeago" datetime="2025-06-07T20:02:02+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date" title="June 7, 2025 20:02:02 UTC">2025-06-07</span>
  </span>

    
    
    
    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 Chronovyan Team
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.indexes", "search.highlight", "content.code.annotate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../js/timeago.min.js"></script>
      
        <script src="../js/timeago_mkdocs_material.js"></script>
      
    
  </body>
</html>